### ğŸ“§ Notification Service API ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸

@baseUrl = http://localhost:8084
@userId = user123
@email = test@example.com
@discordWebhook = https://discord.com/api/webhooks/test

### ğŸš€ 1. ìŠ¤í„°ë”” ìŠ¹ì¸ ì•Œë¦¼ ë°œì†¡ (ì´ë©”ì¼)
POST {{baseUrl}}/api/v1/notifications
Content-Type: application/json

{
  "userId": "{{userId}}",
  "eventType": "STUDY_APPROVED",
  "metadata": {
    "studyId": 456,
    "studyTitle": "Java Spring Boot ìŠ¤í„°ë””",
    "userName": "ê¹€ê°œë°œ",
    "approvedBy": "ê´€ë¦¬ì",
    "studyUrl": "https://example.com/study/456",
    "email": "{{email}}",
    "discordWebhook": "{{discordWebhook}}"
  }
}

### ğŸ”” 2. ë§ˆì¼€íŒ… ì•Œë¦¼ ë°œì†¡ (ë‹¤ì¤‘ ì±„ë„)
POST {{baseUrl}}/api/v1/notifications
Content-Type: application/json

{
  "userId": "{{userId}}",
  "eventType": "MARKETING_PROMOTION",
  "metadata": {
    "promotionTitle": "íŠ¹ë³„ í• ì¸ ì´ë²¤íŠ¸",
    "discountRate": "50%",
    "validUntil": "2024-12-31",
    "promoCode": "SAVE50",
    "email": "{{email}}",
    "discordWebhook": "{{discordWebhook}}"
  }
}

### ğŸ’¬ 3. ëŒ“ê¸€ ì•Œë¦¼ ë°œì†¡
POST {{baseUrl}}/api/v1/notifications
Content-Type: application/json

{
  "userId": "{{userId}}",
  "eventType": "COMMENT_ADDED",
  "metadata": {
    "postId": 789,
    "postTitle": "Spring Boot ì§ˆë¬¸ì…ë‹ˆë‹¤",
    "commenterName": "ë°•ëŒ“ê¸€",
    "commentContent": "ì¢‹ì€ ì§ˆë¬¸ì´ë„¤ìš”! ë‹µë³€ë“œë¦´ê²Œìš”.",
    "postUrl": "https://example.com/post/789",
    "email": "{{email}}"
  }
}

### ğŸ“± 4. í‘¸ì‹œ ì•Œë¦¼ ë°œì†¡
POST {{baseUrl}}/api/v1/notifications
Content-Type: application/json

{
  "userId": "{{userId}}",
  "eventType": "STUDY_REMINDER",
  "metadata": {
    "studyTitle": "ì˜¤ëŠ˜ ìŠ¤í„°ë”” ì‹œê°„ì…ë‹ˆë‹¤",
    "studyTime": "19:00",
    "location": "ì˜¨ë¼ì¸ Zoom",
    "zoomLink": "https://zoom.us/j/123456789",
    "pushToken": "push-token-{{userId}}"
  }
}

### ğŸ” 5. ì•Œë¦¼ ë‹¨ê±´ ì¡°íšŒ (ì‘ë‹µì—ì„œ notificationId ë³µì‚¬ í›„ ì‚¬ìš©)
# @name getNotification
GET {{baseUrl}}/api/v1/notifications/notification-id-here

### ğŸ“‹ 6. ì‚¬ìš©ì ì•Œë¦¼ ëª©ë¡ ì¡°íšŒ (í˜ì´ì§•)
GET {{baseUrl}}/api/v1/notifications?userId={{userId}}&page=0&size=20

### ğŸ“‹ 7. ì‚¬ìš©ì ì•Œë¦¼ ëª©ë¡ ì¡°íšŒ (í•„í„°ë§)
GET {{baseUrl}}/api/v1/notifications?userId={{userId}}&page=0&size=10&status=SENT&eventType=STUDY_APPROVED

### ğŸ”„ 8. ì‹¤íŒ¨í•œ ì•Œë¦¼ ì¬ì‹œë„
PATCH {{baseUrl}}/api/v1/notifications/notification-id-here/retry

### ğŸ§ª 9. ë„ë©”ì¸ ë¡œì§ í…ŒìŠ¤íŠ¸ - ì—°ì† ìƒíƒœ ë³€ê²½ ì‹œë‚˜ë¦¬ì˜¤
# ì•Œë¦¼ ë°œì†¡ â†’ ì‹¤íŒ¨ â†’ ì¬ì‹œë„ â†’ ì„±ê³µ íŒ¨í„´ í™•ì¸
POST {{baseUrl}}/api/v1/notifications
Content-Type: application/json

{
  "userId": "domain-test-user",
  "eventType": "DOMAIN_LOGIC_TEST",
  "metadata": {
    "testScenario": "ì—°ì† ìƒíƒœ ë³€ê²½",
    "expectedFlow": "PENDING â†’ FAILED â†’ RETRY â†’ SENT",
    "maxRetryCount": 3,
    "email": "domain.test@example.com"
  }
}

### ğŸ§ª 10. ë„ë©”ì¸ ë¡œì§ í…ŒìŠ¤íŠ¸ - ìµœëŒ€ ì¬ì‹œë„ ë„ë‹¬ ì‹œë‚˜ë¦¬ì˜¤
POST {{baseUrl}}/api/v1/notifications
Content-Type: application/json

{
  "userId": "retry-limit-test",
  "eventType": "MAX_RETRY_TEST",
  "metadata": {
    "testScenario": "ìµœëŒ€ ì¬ì‹œë„ ë„ë‹¬",
    "expectedBehavior": "3íšŒ ì¬ì‹œë„ í›„ ìµœì¢… ì‹¤íŒ¨",
    "shouldFailAfter": 3,
    "email": "retry.test@example.com"
  }
}

### ğŸ§ª 11. ë„ë©”ì¸ ë¡œì§ í…ŒìŠ¤íŠ¸ - ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ê²€ì¦
POST {{baseUrl}}/api/v1/notifications
Content-Type: application/json

{
  "userId": "business-rule-test",
  "eventType": "BUSINESS_RULE_TEST",
  "metadata": {
    "testScenario": "ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ê²€ì¦",
    "rules": ["canRetry", "isCompleted", "isProcessing"],
    "version": "ë‚™ê´€ì  ë½ í…ŒìŠ¤íŠ¸",
    "email": "business.test@example.com"
  }
}

### ğŸ§ª 12. ì—£ì§€ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸ - null ë©”íƒ€ë°ì´í„°
POST {{baseUrl}}/api/v1/notifications
Content-Type: application/json

{
  "userId": "edge-case-test",
  "eventType": "NULL_METADATA_TEST",
  "metadata": null
}

### ğŸ§ª 13. ì—£ì§€ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸ - ë¹ˆ ë¬¸ìì—´ í•„ë“œ
POST {{baseUrl}}/api/v1/notifications
Content-Type: application/json

{
  "userId": "",
  "eventType": "",
  "metadata": {
    "title": "",
    "content": "",
    "testType": "ë¹ˆ ë¬¸ìì—´ ì²˜ë¦¬"
  }
}

### âŒ 14. ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì•Œë¦¼ ì¡°íšŒ (404 í…ŒìŠ¤íŠ¸)
GET {{baseUrl}}/api/v1/notifications/non-existent-id

### âŒ 15. ì˜ëª»ëœ ìš”ì²­ (400 í…ŒìŠ¤íŠ¸)
POST {{baseUrl}}/api/v1/notifications
Content-Type: application/json

{
  "userId": "",
  "eventType": "",
  "metadata": {}
}

### âœ… 16. í—¬ìŠ¤ ì²´í¬
GET {{baseUrl}}/api/v1/notifications/health

### ğŸ“Š 17. ëŒ€ëŸ‰ ì•Œë¦¼ ë°œì†¡ ì‹œë‚˜ë¦¬ì˜¤
POST {{baseUrl}}/api/v1/notifications
Content-Type: application/json

{
  "userId": "batch-user-1",
  "eventType": "SYSTEM_MAINTENANCE",
  "metadata": {
    "maintenanceDate": "2024-07-20",
    "maintenanceTime": "02:00-04:00",
    "affectedServices": ["notification", "user-service"],
    "alternativeUrl": "https://status.example.com",
    "email": "admin@example.com"
  }
}

### ğŸ“Š 18. ëŒ€ëŸ‰ ì•Œë¦¼ ë°œì†¡ ì‹œë‚˜ë¦¬ì˜¤ (ë°°ì¹˜ 2)
POST {{baseUrl}}/api/v1/notifications
Content-Type: application/json

{
  "userId": "batch-user-2",
  "eventType": "SYSTEM_MAINTENANCE",
  "metadata": {
    "maintenanceDate": "2024-07-20",
    "maintenanceTime": "02:00-04:00",
    "affectedServices": ["notification", "user-service"],
    "alternativeUrl": "https://status.example.com",
    "email": "admin2@example.com"
  }
}

### ğŸ”„ 19. ì—°ì† ìš”ì²­ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ (1)
POST {{baseUrl}}/api/v1/notifications
Content-Type: application/json

{
  "userId": "perf-test-1",
  "eventType": "PERFORMANCE_TEST",
  "metadata": {
    "testId": 1,
    "timestamp": "{{$timestamp}}",
    "email": "perf1@example.com"
  }
}

### ğŸ”„ 20. ì—°ì† ìš”ì²­ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ (2)
POST {{baseUrl}}/api/v1/notifications
Content-Type: application/json

{
  "userId": "perf-test-2",
  "eventType": "PERFORMANCE_TEST",
  "metadata": {
    "testId": 2,
    "timestamp": "{{$timestamp}}",
    "email": "perf2@example.com"
  }
}

### ğŸ”„ 21. ì—°ì† ìš”ì²­ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ (3)
POST {{baseUrl}}/api/v1/notifications
Content-Type: application/json

{
  "userId": "perf-test-3",
  "eventType": "PERFORMANCE_TEST",
  "metadata": {
    "testId": 3,
    "timestamp": "{{$timestamp}}",
    "email": "perf3@example.com"
  }
}

### ğŸ“ˆ 22. ì•Œë¦¼ í†µê³„ ì¡°íšŒ (ì±„ë„ë³„ ì„±ê³µë¥ )
GET {{baseUrl}}/api/v1/notifications/statistics?userId={{userId}}&period=daily&channelType=EMAIL

### ğŸ“ˆ 23. ì•Œë¦¼ í†µê³„ ì¡°íšŒ (ì „ì²´)
GET {{baseUrl}}/api/v1/notifications/statistics?period=weekly

### ğŸ”§ 24. ë„ë©”ì¸ ëª¨ë¸ ìƒíƒœ í™•ì¸ í…ŒìŠ¤íŠ¸
GET {{baseUrl}}/api/v1/notifications/notification-id-here/status-details
