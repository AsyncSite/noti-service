### ğŸ“± NotificationChannel API ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸

@baseUrl = http://localhost:8084
@notificationId = notification-123
@channelId = channel-456

### ğŸ“‹ 1. íŠ¹ì • ì•Œë¦¼ì˜ ì±„ë„ ëª©ë¡ ì¡°íšŒ
GET {{baseUrl}}/api/v1/notification-channels?notificationId={{notificationId}}

### ğŸ“‹ 2. ì±„ë„ íƒ€ì…ë³„ í•„í„°ë§ ì¡°íšŒ
GET {{baseUrl}}/api/v1/notification-channels?notificationId={{notificationId}}&channelType=EMAIL

### ğŸ” 3. ì±„ë„ ë‹¨ê±´ ì¡°íšŒ
GET {{baseUrl}}/api/v1/notification-channels/{{channelId}}

### ğŸ”„ 4. ì±„ë„ ì¬ì‹œë„
POST {{baseUrl}}/api/v1/notification-channels/{{channelId}}/retry

### ğŸ“Š 5. ì±„ë„ í†µê³„ ì¡°íšŒ - ì „ì²´
GET {{baseUrl}}/api/v1/notification-channels/statistics

### ğŸ“Š 6. ì±„ë„ë³„ ì„±ê³µë¥  í†µê³„
GET {{baseUrl}}/api/v1/notification-channels/statistics/success-rate?channelType=EMAIL

### ğŸ“Š 7. ì¬ì‹œë„ íŒ¨í„´ ë¶„ì„
GET {{baseUrl}}/api/v1/notification-channels/statistics/retry-patterns

### ğŸ§ª 8. ë„ë©”ì¸ ë¡œì§ í…ŒìŠ¤íŠ¸ - ì±„ë„ ìƒíƒœ ë³€ê²½ ì‹œë®¬ë ˆì´ì…˜
POST {{baseUrl}}/api/v1/notification-channels/test/status-transition
Content-Type: application/json

{
  "channelId": "test-channel-001",
  "scenario": "PENDING â†’ FAILED â†’ RETRY â†’ SENT",
  "maxRetryCount": 3,
  "channelType": "EMAIL",
  "recipient": "test@example.com"
}

### ğŸ§ª 9. ë„ë©”ì¸ ë¡œì§ í…ŒìŠ¤íŠ¸ - ìµœëŒ€ ì¬ì‹œë„ ë„ë‹¬ ì‹œë‚˜ë¦¬ì˜¤
POST {{baseUrl}}/api/v1/notification-channels/test/max-retry
Content-Type: application/json

{
  "channelId": "test-channel-002",
  "scenario": "ìµœëŒ€ ì¬ì‹œë„ ë„ë‹¬",
  "expectedRetryCount": 3,
  "channelType": "DISCORD",
  "recipient": "https://discord.com/api/webhooks/test"
}

### ğŸ§ª 10. ë„ë©”ì¸ ë¡œì§ í…ŒìŠ¤íŠ¸ - ë³µì¡í•œ ì‘ë‹µ ë°ì´í„° ì²˜ë¦¬
PATCH {{baseUrl}}/api/v1/notification-channels/{{channelId}}/mock-response
Content-Type: application/json

{
  "status": "SENT",
  "externalId": "msg-complex-123",
  "responseData": {
    "messageId": "msg-123",
    "deliveryTime": "2023-01-01T10:00:00",
    "provider": "SendGrid",
    "metadata": {
      "campaignId": "camp-456",
      "tags": ["notification", "study", "approval"]
    }
  }
}

### ğŸ§ª 11. ì—£ì§€ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸ - null ì™¸ë¶€ ID ì²˜ë¦¬
PATCH {{baseUrl}}/api/v1/notification-channels/{{channelId}}/mock-success
Content-Type: application/json

{
  "externalId": null,
  "responseData": null
}

### ğŸ§ª 12. ì—£ì§€ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸ - ë¹ˆ ìˆ˜ì‹ ì ì±„ë„
POST {{baseUrl}}/api/v1/notification-channels/test/empty-recipient
Content-Type: application/json

{
  "notificationId": "test-notification",
  "channelType": "EMAIL",
  "recipient": ""
}

### ğŸ§ª 13. ì—£ì§€ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸ - null ì•Œë¦¼ ID
POST {{baseUrl}}/api/v1/notification-channels/test/null-notification
Content-Type: application/json

{
  "notificationId": null,
  "channelType": "PUSH",
  "recipient": "push-token-123"
}

### ğŸ“ˆ 14. ì±„ë„ë³„ ì„±ëŠ¥ ë©”íŠ¸ë¦­
GET {{baseUrl}}/api/v1/notification-channels/metrics/performance?period=daily

### ğŸ“ˆ 15. ì‹¤ì‹œê°„ ì±„ë„ ìƒíƒœ ëŒ€ì‹œë³´ë“œ
GET {{baseUrl}}/api/v1/notification-channels/dashboard/realtime

### ğŸ”§ 16. ì±„ë„ ìƒíƒœ ì„¸ë¶€ ì •ë³´ ì¡°íšŒ
GET {{baseUrl}}/api/v1/notification-channels/{{channelId}}/status-details

### ğŸ”§ 17. ì±„ë„ ë§ˆì§€ë§‰ ì‹œë„ ì‹œê°„ ì¡°íšŒ
GET {{baseUrl}}/api/v1/notification-channels/{{channelId}}/last-attempt

### ğŸ“± 18. ì´ë©”ì¼ ì±„ë„ ì „ìš© í†µê³„
GET {{baseUrl}}/api/v1/notification-channels/statistics/email

### ğŸ“± 19. Discord ì±„ë„ ì „ìš© í†µê³„
GET {{baseUrl}}/api/v1/notification-channels/statistics/discord

### ğŸ“± 20. í‘¸ì‹œ ì±„ë„ ì „ìš© í†µê³„
GET {{baseUrl}}/api/v1/notification-channels/statistics/push

### ğŸ”„ 21. ì‹¤íŒ¨í•œ ì±„ë„ë“¤ ì¼ê´„ ì¬ì‹œë„
POST {{baseUrl}}/api/v1/notification-channels/bulk-retry
Content-Type: application/json

{
  "notificationId": "{{notificationId}}",
  "channelTypes": ["EMAIL", "DISCORD"],
  "maxRetryAge": "1h"
}

### ğŸ§ª 22. ë„ë©”ì¸ ë¡œì§ í…ŒìŠ¤íŠ¸ - ì—°ì† ìƒíƒœ ë³€ê²½
POST {{baseUrl}}/api/v1/notification-channels/test/consecutive-changes
Content-Type: application/json

{
  "channelId": "consecutive-test",
  "operations": [
    { "action": "markAsFailed", "errorMessage": "ì²« ë²ˆì§¸ ì‹¤íŒ¨" },
    { "action": "prepareRetry" },
    { "action": "markAsFailed", "errorMessage": "ë‘ ë²ˆì§¸ ì‹¤íŒ¨" },
    { "action": "prepareRetry" },
    { "action": "markAsSent", "externalId": "final-success", "responseData": { "deliveryId": "final-123" } }
  ]
}

### ğŸ§ª 23. ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ê²€ì¦ í…ŒìŠ¤íŠ¸
GET {{baseUrl}}/api/v1/notification-channels/{{channelId}}/business-rules
# ì‘ë‹µ ì˜ˆì‹œ: { "canRetry": true, "isCompleted": false, "isProcessing": true, "hasReachedMaxRetries": false }

### âŒ 24. ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì±„ë„ ì¡°íšŒ (404 í…ŒìŠ¤íŠ¸)
GET {{baseUrl}}/api/v1/notification-channels/non-existent-channel-id

### âŒ 25. ì˜ëª»ëœ ì¬ì‹œë„ ìš”ì²­ (ì´ë¯¸ ì„±ê³µí•œ ì±„ë„)
POST {{baseUrl}}/api/v1/notification-channels/already-sent-channel/retry

### âŒ 26. ìµœëŒ€ ì¬ì‹œë„ ë„ë‹¬ í›„ ì¬ì‹œë„ ì‹œë„ (409 í…ŒìŠ¤íŠ¸)
POST {{baseUrl}}/api/v1/notification-channels/max-retry-reached-channel/retry

### ğŸ”§ 27. ì±„ë„ ìˆ˜ì‹ ì ì •ë³´ ì—…ë°ì´íŠ¸
PATCH {{baseUrl}}/api/v1/notification-channels/{{channelId}}/recipient
Content-Type: application/json

{
  "recipient": "new-recipient@example.com"
}

### ğŸ“Š 28. ì‹œê°„ëŒ€ë³„ ì±„ë„ ë°œì†¡ í†µê³„
GET {{baseUrl}}/api/v1/notification-channels/statistics/hourly?date=2024-07-22

### ğŸ“Š 29. ì±„ë„ë³„ ì˜¤ë¥˜ ë¶„ì„
GET {{baseUrl}}/api/v1/notification-channels/statistics/error-analysis?period=weekly

### âœ… 30. ì±„ë„ í—¬ìŠ¤ì²´í¬
GET {{baseUrl}}/api/v1/notification-channels/health
